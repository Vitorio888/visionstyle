const bodyEl=document.querySelector("body"),burger=document.querySelector(".js-burger"),menu=document.querySelector(".js-menu-nav");let cart={},later={};function init(){$.getJSON("goods.json",goodsOut)}function goodsOut(t){let a=window.location.hash.substring(1);console.log(t);for(let e in t)if(e===a){let a=`<li class="cart">\n                            <div class="cart__container">\n                                <button class="cart__add-to-later" type="button" data-id="${e}">&hearts;</button>\n                                <h3 class="cart__name">${t[e].name}</h3>\n                                <picture><source srcset="img/${t[e].imgwebp}" type="image/webp"><img class="cart__image" src="img/${t[e].img}" alt="${t[e].name}"></picture>\n                                <p class="cart__descr">${t[e].description}</p>\n                            </div>\n                            <div class="cart__cost">${t[e].cost} грн</div>\n                            <button class="cart__add-to-cart" type="button" data-id="${e}">Добавить в корзину</button>\n                        </li>`;$(".goods-out").html(a),$(".cart__add-to-cart").on("click",addToCart),$(".cart__add-to-later").on("click",addToLater)}}function addToLater(){let t=$(this).attr("data-id");null==later[t]&&(later[t]=1),showMiniLater(),saveLater()}function addToCart(){let t=$(this).attr("data-id");null==cart[t]?cart[t]=1:cart[t]++,showMiniCart(),saveСart()}function saveLater(){localStorage.setItem("later",JSON.stringify(later))}function saveСart(){localStorage.setItem("cart",JSON.stringify(cart))}function showMiniLater(){let t="";t+=Object.keys(later).reduce((t,a)=>t+later[a],0),$(".mini-later").html(t)}function showMiniCart(){let t="";t+=Object.keys(cart).reduce((t,a)=>t+cart[a],0),$(".mini-cart").html(t)}function loadLater(){localStorage.getItem("later")&&(later=JSON.parse(localStorage.getItem("later")),showMiniLater())}function loadCart(){localStorage.getItem("cart")&&(cart=JSON.parse(localStorage.getItem("cart")),showMiniCart())}function showMenu(){menu.classList.toggle("active"),bodyEl.classList.toggle("active")}$("document").ready((function(){init(),loadLater(),loadCart(),burger.addEventListener("click",showMenu)}));