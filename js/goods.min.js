const bodyEl=document.querySelector("body"),burger=document.querySelector(".js-burger"),menu=document.querySelector(".js-menu-nav"),menuLink=document.querySelectorAll(".menu-nav__link"),modal=document.querySelector(".modal");let cart={};function init(){$.getJSON("goods.json",goodsOut)}function goodsOut(e){let t=window.location.hash.substring(1);console.log(e);for(let n in e)if(n===t){let t=`<li class="cart">\n                            <div class="cart__container">\n                                <h3 class="cart__name">${e[n].name}</h3>\n                                \n                                    <picture><source srcset="img/${e[n].imgwebp}" type="image/webp"><img class="cart__image" src="img/${e[n].img}" alt="${e[n].name}"></picture>\n                                    <picture><source srcset="img/${e[n].imgwebp}" type="image/webp"><img class="cart__image" src="img/${e[n].img}" alt="${e[n].name}"></picture>\n                                    <picture><source srcset="img/${e[n].imgwebp}" type="image/webp"><img class="cart__image" src="img/${e[n].img}" alt="${e[n].name}"></picture>\n                                \n                                <p class="cart__descr">${e[n].description}</p>\n                            </div>\n                            <div class="cart__cost">${e[n].cost} грн</div>\n                            <button class="cart__add-to-cart neon-btn" type="button" data-id="${n}">В корзину\n                                <span class="neon-btn__decorate neon-btn__decorate--one" aria-hidden="true"></span>\n                                <span class="neon-btn__decorate neon-btn__decorate--two" aria-hidden="true"></span>\n                                <span class="neon-btn__decorate neon-btn__decorate--three" aria-hidden="true"></span>\n                                <span class="neon-btn__decorate neon-btn__decorate--four" aria-hidden="true"></span>\n                            </button>\n                        </li>`;$(".goods-out").html(t),$(".cart__add-to-cart").on("click",addToCart)}}function addToCart(){let e=$(this).attr("data-id");null==cart[e]?cart[e]=1:cart[e]++,showMiniCart(),saveСart()}function saveСart(){localStorage.setItem("cart",JSON.stringify(cart))}function showMiniCart(){let e="";e+=Object.keys(cart).reduce((e,t)=>e+cart[t],0),$(".mini-cart").html(e)}function loadCart(){localStorage.getItem("cart")&&(cart=JSON.parse(localStorage.getItem("cart")),showMiniCart())}function showMenu(){bodyEl.classList.toggle("active"),menuLink.forEach(e=>e.addEventListener("click",closeMenu)),modal.addEventListener("click",closeMenu)}function closeMenu(){bodyEl.classList.remove("active")}$("document").ready((function(){init(),loadCart(),burger.addEventListener("click",showMenu)}));